class DTPU_delegate:
	######################################### 
	############ MEMORY MAP #################
	#########################################
	BASE_ADDRESS_ACCELERATOR=0x43C00000
	ADDRESS_RANGE_ACCELERATOR=0x10000
	
	# address reg offset 
	CTRL =0x0000
	STATUS =0x0004
	IARG_RQT_EN =0x0010
	OARG_RQT_EN =0x0014
	CMD =0x0028 
	OARG_LENGTH_MODE =0x003C 
	ISCALAR_FIFO_RST =0x0040 
	OSCALAR_FIFO_RST =0x0044 
	ISCALAR_RQT_EN =0x0048 
	OSCALAR_RQT_EN =0x004C 
	ISCALAR0_DATA =0x0080 
	ISCALAR1_DATA =0x0084 
	ISCALAR2_DATA =0x0088 
	ISCALAR3_DATA =0x008C 
	ISCALAR4_DATA =0x0090 
	ISCALAR5_DATA =0x0094 
	ISCALAR6_DATA =0x0098 
	ISCALAR7_DATA =0x009C
	ISCALAR8_DATA =0x00A0
	ISCALAR9_DATA =0x00A4
	ISCALAR10_DATA=0x00A8
	ISCALAR11_DATA =0x00AC
	ISCALAR12_DATA =0x00B0
	ISCALAR13_DATA =0x00B4
	ISCALAR14_DATA =0x00B8
	ISCALAR15_DATA =0x00BC
	OSCALAR0_DATA =0x00C0
	OSCALAR1_DATA =0x00C4
	OSCALAR2_DATA =0x00C8
	OSCALAR3_DATA =0x00CC
	OSCALAR4_DATA =0x00D0
	OSCALAR5_DATA =0x00D4
	OSCALAR6_DATA =0x00D8
	OSCALAR7_DATA =0x00DC
	IARG0_STATUS =0x0100
	IARG1_STATUS =0x0104
	IARG2_STATUS =0x0108
	IARG3_STATUS =0x010C
	IARG4_STATUS =0x0110
	IARG5_STATUS =0x0114
	IARG6_STATUS =0x0118
	IARG7_STATUS =0x011C
	OARG0_STATUS =0x0140
	OARG1_STATUS =0x0144
	OARG2_STATUS =0x0148
	OARG3_STATUS =0x014C
	OARG4_STATUS =0x0150
	OARG5_STATUS =0x0154
	OARG6_STATUS =0x0158
	OARG7_STATUS =0x015C
	ISCALAR0_STATUS =0x0180
	ISCALAR1_STATUS =0x0184
	ISCALAR2_STATUS =0x0188
	ISCALAR3_STATUS =0x018C
	ISCALAR4_STATUS =0x0190 
	ISCALAR5_STATUS =0x0194 
	ISCALAR6_STATUS =0x0198 
	ISCALAR7_STATUS =0x019C 
	ISCALAR8_STATUS =0x01A0 
	ISCALAR9_STATUS =0x01A4 
	ISCALAR10_STATUS =0x01A8 
	ISCALAR11_STATUS =0x01AC 
	ISCALAR12_STATUS =0x01B0 
	ISCALAR13_STATUS =0x01B4 
	ISCALAR14_STATUS =0x01B8 
	ISCALAR15_STATUS =0x01BC 
	OSCALAR0_STATUS =0x01C0 
	OSCALAR1_STATUS =0x01C4 
	OSCALAR2_STATUS =0x01C8 
	OSCALAR3_STATUS =0x01CC 
	OSCALAR4_STATUS =0x01D0 
	OSCALAR5_STATUS =0x01D4 
	OSCALAR6_STATUS =0x01D8 
	OSCALAR7_STATUS =0x01DC 
	OSCALAR8_STATUS =0x01E0 
	OSCALAR9_STATUS =0x01E4 
	OSCALAR10_STATUS =0x01E8 
	OSCALAR11_STATUS =0x01EC 
	OSCALAR12_STATUS =0x01F0 
	OSCALAR13_STATUS =0x01F4 
	OSCALAR14_STATUS =0x01F8 
	OSCALAR15_STATUS =0x01FC 
	OARG0_LENGTH =0x0200 
	OARG1_LENGTH =0x0204 
	OARG2_LENGTH =0x0208 
	OARG3_LENGTH =0x020C 
	OARG4_LENGTH =0x0210 
	OARG5_LENGTH =0x0214 
	OARG6_LENGTH =0x0218 
	OARG7_LENGTH =0x021C 
	OARG0_TDEST =0x0240 
	OARG1_TDEST =0x0244 
	OARG2_TDEST =0x0248 
	OARG3_TDEST =0x024C 
	OARG4_TDEST =0x0250 
	OARG5_TDEST =0x0254 
	OARG6_TDEST =0x0258 
	OARG7_TDEST =0x025C 
	BASE_ADDRESS_INTC=0x40800000
	ADDRESS_RANGE_INTC=0x10000
	BASE_ADDRESS_DMA_INFIFO=0x40400000
	ADDRESS_RANGE_DMA_INFIFO=0x10000
	BASE_ADDRESS_DMA_WM=0x40410000
	ADDRESS_RANGE_DMA_WM=0x10000


	WMEM_SIZE=0
	INFIFO_SIZE=0
	OUTFIFO_SIZE=0
	DATAWIDTH=0
	accelerator=None

	def __init__(self,WMEM_SIZE,INFIFO_SIZE,OUTFIFO_SIZE,DATAWIDTH,accelerator_from_overlay):
		self.WMEM_SIZE=WMEM_SIZE
		self.INFIFO_SIZE=INFIFO_SIZE
		self.OUTFIFO_SIZE=OUTFIFO_SIZE
		self.DATAWIDTH=DATAWIDTH
		self.accelerator=accelerator_from_overlay 

	def select_data_type(data_type):
		# modify the csr buffer 


	def prepare():
		#allocate buffers for data transfer

	def invoke():
		#execute the inference and retrieve the data

	def __del__(self):
		input_fifo_buffer.close()
		output_fifo_buffer.close()
		csr_buffer.close()
		weight_buffer.close()

